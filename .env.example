# =============================================================================
# BIG AUTO - ENVIRONMENT CONFIGURATION TEMPLATE
# =============================================================================
#
# -----------------------------------------------------------------------------
# DATABASE (Supabase PostgreSQL 17.6)
# -----------------------------------------------------------------------------
# Direct connection (port 5432) for prepared statement support
DATABASE_URL=postgresql://postgres:YOUR_PASSWORD@aws-0-us-east-1.pooler.supabase.com:5432/postgres

# -----------------------------------------------------------------------------
# JWT (JSON Web Token) - Authentication
# -----------------------------------------------------------------------------
# Generate with: openssl rand -base64 64
JWT_SECRET=YOUR_JWT_SECRET_MINIMUM_32_CHARACTERS_LONG_HERE
JWT_ACCESS_TOKEN_EXPIRY=900
JWT_REFRESH_TOKEN_EXPIRY=604800

# -----------------------------------------------------------------------------
# SERVICE PORTS & HOSTS
# -----------------------------------------------------------------------------
AUTH_SERVICE_HOST=0.0.0.0
AUTH_SERVICE_PORT=3001
USER_SERVICE_HOST=0.0.0.0
USER_SERVICE_PORT=3002
VEHICLE_SERVICE_HOST=0.0.0.0
VEHICLE_SERVICE_PORT=3003
BOOKING_SERVICE_HOST=0.0.0.0
BOOKING_SERVICE_PORT=3004
PAYMENT_SERVICE_HOST=0.0.0.0
PAYMENT_SERVICE_PORT=3005
CHAT_SERVICE_HOST=0.0.0.0
CHAT_SERVICE_PORT=3006
NOTIFICATION_SERVICE_HOST=0.0.0.0
NOTIFICATION_SERVICE_PORT=3007
FINANCIAL_SERVICE_HOST=0.0.0.0
FINANCIAL_SERVICE_PORT=3008

# -----------------------------------------------------------------------------
# SERVICE URLs (Development)
# -----------------------------------------------------------------------------
AUTH_SERVICE_URL=http://localhost:3001
USER_SERVICE_URL=http://localhost:3002
VEHICLE_SERVICE_URL=http://localhost:3003
BOOKING_SERVICE_URL=http://localhost:3004
PAYMENT_SERVICE_URL=http://localhost:3005
CHAT_SERVICE_URL=http://localhost:3006
NOTIFICATION_SERVICE_URL=http://localhost:3007
FINANCIAL_SERVICE_URL=http://localhost:3008

# Production URLs (uncomment saat deployment)
# AUTH_SERVICE_URL=https://auth.bigauto.com
# USER_SERVICE_URL=https://user.bigauto.com
# VEHICLE_SERVICE_URL=https://vehicle.bigauto.com
# BOOKING_SERVICE_URL=https://booking.bigauto.com
# PAYMENT_SERVICE_URL=https://payment.bigauto.com
# CHAT_SERVICE_URL=https://chat.bigauto.com
# NOTIFICATION_SERVICE_URL=https://notification.bigauto.com
# FINANCIAL_SERVICE_URL=https://financial.bigauto.com

# -----------------------------------------------------------------------------
# MIDTRANS PAYMENT GATEWAY
# -----------------------------------------------------------------------------
# Get credentials from: https://dashboard.midtrans.com/
MIDTRANS_SERVER_KEY=SB-Mid-server-YOUR_SERVER_KEY_HERE
MIDTRANS_CLIENT_KEY=SB-Mid-client-YOUR_CLIENT_KEY_HERE
MIDTRANS_IS_PRODUCTION=false
MIDTRANS_ENVIRONMENT=sandbox
MIDTRANS_API_URL=https://api.sandbox.midtrans.com/v2

# -----------------------------------------------------------------------------
# EMAIL SERVICE (Resend API)
# -----------------------------------------------------------------------------
# Get API key from: https://resend.com/api-keys
RESEND_API_KEY=re_YOUR_RESEND_API_KEY_HERE
RESEND_FROM_EMAIL=onboarding@resend.dev

# -----------------------------------------------------------------------------
# NATS (Message Broker - Real-time Chat)
# -----------------------------------------------------------------------------
NATS_URL=nats://localhost:4222

# -----------------------------------------------------------------------------
# REDIS (Rate Limiting & Caching)
# -----------------------------------------------------------------------------
REDIS_URL=redis://localhost:6379

# -----------------------------------------------------------------------------
# CLOUDINARY (Image & Document Storage)
# -----------------------------------------------------------------------------
# Get credentials from: https://cloudinary.com/console
CLOUDINARY_CLOUD_NAME=YOUR_CLOUDINARY_CLOUD_NAME
CLOUDINARY_API_KEY=YOUR_CLOUDINARY_API_KEY
CLOUDINARY_API_SECRET=YOUR_CLOUDINARY_API_SECRET
CLOUDINARY_URL=cloudinary://API_KEY:API_SECRET@CLOUD_NAME

# Cloudinary Folders (organizational structure)
CLOUDINARY_FOLDER_VEHICLES=vehicles
CLOUDINARY_FOLDER_PROFILES=profiles
CLOUDINARY_FOLDER_CHAT=chat
CLOUDINARY_FOLDER_REVIEWS=reviews
CLOUDINARY_FOLDER_DOCUMENTS=documents

# -----------------------------------------------------------------------------
# APPLICATION SETTINGS
# -----------------------------------------------------------------------------
RUST_ENV=development
RUST_LOG=debug
FRONTEND_URL=http://localhost:3000

# -----------------------------------------------------------------------------
# SECURITY SETTINGS
# -----------------------------------------------------------------------------
# OTP Settings
OTP_EXPIRY_MINUTES=5
OTP_MAX_ATTEMPTS=3
OTP_BLOCK_DURATION_MINUTES=15
OTP_RESEND_COOLDOWN_SECONDS=60
OTP_MAX_REQUESTS_PER_HOUR=5

# Email Verification
EMAIL_VERIFICATION_EXPIRY_HOURS=24

# Session Settings
SESSION_CLEANUP_INTERVAL_HOURS=24
SESSION_MAX_INACTIVE_DAYS=30

# Rate Limiting Settings (per hour)
RATE_LIMIT_GUEST_REQUESTS=100
RATE_LIMIT_CUSTOMER_REQUESTS=300
RATE_LIMIT_SELLER_REQUESTS=500
RATE_LIMIT_SENSITIVE_ENDPOINTS=30
RATE_LIMIT_WINDOW_MINUTES=1

# CORS Settings
CORS_MAX_AGE_SECONDS=86400
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOWED_HEADERS=AUTHORIZATION,CONTENT_TYPE

# Security Headers Settings
CSP_POLICY=default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'; img-src 'self' data: https:; font-src 'self'; connect-src 'self'; frame-ancestors 'none'
HSTS_MAX_AGE=31536000
ENABLE_SECURITY_HEADERS=true

# -----------------------------------------------------------------------------
# BUSINESS RULES
# -----------------------------------------------------------------------------
COMMISSION_PERCENTAGE=0.05
MIN_WITHDRAWAL_AMOUNT=50000
PAYMENT_TIMEOUT_HOURS=48
RENTAL_CANCEL_MIN_HOURS=48
CANCELLATION_ADMIN_FEE=10000

# -----------------------------------------------------------------------------
# FILE UPLOAD SETTINGS
# -----------------------------------------------------------------------------
MAX_FILE_SIZE_MB=5
UPLOAD_DIR=./uploads

# -----------------------------------------------------------------------------
# OPENSTREETMAP 
# -----------------------------------------------------------------------------
OSM_NOMINATIM_URL=https://nominatim.openstreetmap.org

# -----------------------------------------------------------------------------
# SERVICE INFO
# -----------------------------------------------------------------------------
APP_NAME="Big Auto"
APP_VERSION=1.0.0