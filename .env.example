# BIG AUTO - Environment Variables Template
# Copy this file to .env and fill in the actual values
# NEVER commit .env to Git!

# ============================================
# DATABASE (Supabase PostgreSQL)
# ============================================
# Get from: https://supabase.com/dashboard/project/_/settings/database
DATABASE_URL=postgresql://postgres.[PROJECT_REF]:[PASSWORD]@[HOST].pooler.supabase.com:6543/postgres

# ============================================
# JWT (JSON Web Token) - Authentication
# ============================================
# Generate secure random string: openssl rand -hex 32
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_ACCESS_TOKEN_EXPIRY=900
JWT_REFRESH_TOKEN_EXPIRY=604800

# ============================================
# SERVICE PORTS & HOSTS
# ============================================
AUTH_SERVICE_PORT=3001
USER_SERVICE_PORT=3002
VEHICLE_SERVICE_HOST=0.0.0.0
VEHICLE_SERVICE_PORT=3003
BOOKING_SERVICE_PORT=3004
PAYMENT_SERVICE_PORT=3005
CHAT_SERVICE_PORT=3006
NOTIFICATION_SERVICE_PORT=3007
FINANCIAL_SERVICE_PORT=3008

# ============================================
# MIDTRANS PAYMENT GATEWAY (Sandbox)
# ============================================
# Get from: https://dashboard.sandbox.midtrans.com/settings/config_info
MIDTRANS_SERVER_KEY=SB-Mid-server-XXXXXXXXXXXXXXXXXXXXXXXX
MIDTRANS_CLIENT_KEY=SB-Mid-client-XXXXXXXXXXXXXXXXXXXXXXXX
MIDTRANS_IS_PRODUCTION=false
MIDTRANS_ENVIRONMENT=sandbox
MIDTRANS_API_URL=https://api.sandbox.midtrans.com/v2

# ============================================
# EMAIL SERVICE (Gmail SMTP)
# ============================================
# Gmail App Password: https://myaccount.google.com/apppasswords
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your-gmail-app-password
EMAIL_FROM=your-email@gmail.com
EMAIL_FROM_NAME="Big Auto"

# ============================================
# NATS (Message Broker - Real-time Chat)
# ============================================
NATS_URL=nats://localhost:4222

# ============================================
# REDIS (Rate Limiting & Caching)
# ============================================
REDIS_URL=redis://localhost:6379

# ============================================
# CLOUDINARY (Image & Document Storage)
# ============================================
# Get from: https://console.cloudinary.com/console
# ⚠️ KEEP SECRET! Never commit to Git!
CLOUDINARY_CLOUD_NAME=your-cloud-name
CLOUDINARY_API_KEY=your-api-key
CLOUDINARY_API_SECRET=your-api-secret
CLOUDINARY_URL=cloudinary://your-api-key:your-api-secret@your-cloud-name

# Cloudinary Folders (organizational structure)
CLOUDINARY_FOLDER_VEHICLES=vehicles
CLOUDINARY_FOLDER_PROFILES=profiles
CLOUDINARY_FOLDER_CHAT=chat
CLOUDINARY_FOLDER_REVIEWS=reviews
CLOUDINARY_FOLDER_DOCUMENTS=documents

# ============================================
# APPLICATION SETTINGS
# ============================================
RUST_ENV=development
RUST_LOG=debug
FRONTEND_URL=http://localhost:3000

# ============================================
# SECURITY SETTINGS
# ============================================
# OTP Settings
OTP_EXPIRY_MINUTES=5
OTP_MAX_ATTEMPTS=3
OTP_BLOCK_DURATION_MINUTES=15
OTP_RESEND_COOLDOWN_SECONDS=60
OTP_MAX_REQUESTS_PER_HOUR=5

# Email Verification
EMAIL_VERIFICATION_EXPIRY_HOURS=24

# Session Settings
SESSION_CLEANUP_INTERVAL_HOURS=24
SESSION_MAX_INACTIVE_DAYS=30

# ============================================
# BUSINESS RULES
# ============================================
COMMISSION_PERCENTAGE=0.05
MIN_WITHDRAWAL_AMOUNT=50000
PAYMENT_TIMEOUT_HOURS=48
RENTAL_CANCEL_MIN_HOURS=48
CANCELLATION_ADMIN_FEE=10000

# ============================================
# FILE UPLOAD SETTINGS
# ============================================
MAX_FILE_SIZE_MB=5
UPLOAD_DIR=./uploads

# ============================================
# OPENSTREETMAP (No API key needed - FREE)
# ============================================
OSM_NOMINATIM_URL=https://nominatim.openstreetmap.org

# ============================================
# SERVICE INFO
# ============================================
APP_NAME="Big Auto"
APP_VERSION=1.0.0
